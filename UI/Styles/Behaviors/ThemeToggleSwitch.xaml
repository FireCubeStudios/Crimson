<?xml version="1.0" encoding="utf-8" ?>
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Custom="using:Microsoft.UI.Xaml.Controls"
    xmlns:ToolkitControls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:primitiveContract7Present="using:Microsoft.UI.Xaml.Controls.Primitives?IsApiContractPresent(Windows.Foundation.UniversalApiContract,7)"
    xmlns:primitives="using:Microsoft.UI.Xaml.Controls.Primitives">
    <Style x:Key="ThemeSwitch" TargetType="ToggleSwitch">
        <Setter Property="Foreground" Value="{ThemeResource ToggleSwitchContentForeground}" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}" />
        <Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}" />
        <Setter Property="ManipulationMode" Value="System,TranslateX" />
        <Setter Property="UseSystemFocusVisuals" Value="{StaticResource UseSystemFocusVisuals}" />
        <Setter Property="FocusVisualMargin" Value="-7,-3,-7,-3" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleSwitch">
                    <Grid
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <ContentPresenter
                            x:Name="HeaderContentPresenter"
                            Grid.Row="0"
                            Margin="{ThemeResource ToggleSwitchTopHeaderMargin}"
                            VerticalAlignment="Top"
                            x:DeferLoadStrategy="Lazy"
                            AutomationProperties.AccessibilityView="Raw"
                            Content="{TemplateBinding Header}"
                            ContentTemplate="{TemplateBinding HeaderTemplate}"
                            Foreground="{ThemeResource ToggleSwitchHeaderForeground}"
                            IsHitTestVisible="False"
                            TextWrapping="Wrap"
                            Visibility="Collapsed" />
                        <Grid
                            Grid.Row="1"
                            MinWidth="{StaticResource ToggleSwitchThemeMinWidth}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="{ThemeResource ToggleSwitchPreContentMargin}" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="{ThemeResource ToggleSwitchPostContentMargin}" />
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="12" MaxWidth="12" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Grid
                                x:Name="SwitchAreaGrid"
                                Grid.RowSpan="3"
                                Grid.ColumnSpan="3"
                                Margin="0,5"
                                Background="{ThemeResource ToggleSwitchContainerBackground}"
                                Control.IsTemplateFocusTarget="True" />
                            <ContentPresenter
                                x:Name="OffContentPresenter"
                                Grid.RowSpan="3"
                                Grid.Column="2"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                AutomationProperties.AccessibilityView="Raw"
                                Content="{TemplateBinding OffContent}"
                                ContentTemplate="{TemplateBinding OffContentTemplate}"
                                Foreground="{TemplateBinding Foreground}"
                                IsHitTestVisible="False"
                                Opacity="0" />
                            <ContentPresenter
                                x:Name="OnContentPresenter"
                                Grid.RowSpan="3"
                                Grid.Column="2"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                AutomationProperties.AccessibilityView="Raw"
                                Content="{TemplateBinding OnContent}"
                                ContentTemplate="{TemplateBinding OnContentTemplate}"
                                Foreground="{TemplateBinding Foreground}"
                                IsHitTestVisible="False"
                                Opacity="0" />
                            <Rectangle
                                x:Name="OuterBorder"
                                Grid.Row="1"
                                Width="44"
                                Height="20"
                                Fill="{ThemeResource ToggleSwitchFillOff}"
                                RadiusX="10"
                                RadiusY="10"
                                Stroke="{ThemeResource ToggleSwitchStrokeOff}"
                                StrokeThickness="1" />
                            <ToolkitControls:DropShadowPanel
                                x:Name="Glow"
                                Grid.Row="1"
                                Width="44"
                                Height="20"
                                BlurRadius="16.0"
                                IsMasked="True"
                                OffsetX="0.0"
                                OffsetY="0.0"
                                Color="Transparent">
                                <Rectangle
                                    x:Name="SwitchKnobBounds"
                                    Grid.Row="1"
                                    Width="44"
                                    Height="20"
                                    Opacity="1"
                                    RadiusX="10"
                                    RadiusY="10"
                                    Stroke="{ThemeResource ToggleSwitchStrokeOn}"
                                    StrokeThickness="{ThemeResource ToggleSwitchOnStrokeThickness}">
                                    <Rectangle.Fill>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                            <GradientStop x:Name="Gs0" Offset="0.0" Color="{ThemeResource SystemAccentColorDark1}" />
                                            <GradientStop x:Name="Gs1" Offset="0.5" Color="{ThemeResource SystemAccentColorDark2}" />
                                            <GradientStop x:Name="Gs2" Offset="1.0" Color="Black" />
                                        </LinearGradientBrush>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </ToolkitControls:DropShadowPanel>
                            <Grid
                                x:Name="SwitchKnob"
                                Grid.Row="1"
                                Width="20"
                                Height="20"
                                HorizontalAlignment="Left">
                                <PathIcon
                                    x:Name="SwitchKnobOn"
                                    Data="F1 M 9.375 1.875 L 9.375 0.625 C 9.375 0.4557 9.4368 0.3092 9.5605 0.1855 C 9.6842 0.0619 9.8307 0 10 0 C 10.1693 0 10.3158 0.0619 10.4395 0.1855 C 10.5632 0.3092 10.625 0.4557 10.625 0.625 L 10.625 1.875 C 10.625 2.0443 10.5632 2.1908 10.4395 2.3145 C 10.3158 2.4382 10.1693 2.5 10 2.5 C 9.8307 2.5 9.6842 2.4382 9.5605 2.3145 C 9.4368 2.1908 9.375 2.0443 9.375 1.875 Z M 2.5 3.125 C 2.5 2.9557 2.5618 2.8092 2.6855 2.6855 C 2.8092 2.5619 2.9557 2.5 3.125 2.5 C 3.2943 2.5 3.4408 2.5619 3.5645 2.6855 L 4.8145 3.9355 C 4.9382 4.0592 5 4.2057 5 4.375 C 5 4.5443 4.9382 4.6908 4.8145 4.8145 C 4.6908 4.9382 4.5443 5 4.375 5 C 4.2057 5 4.0592 4.9382 3.9355 4.8145 L 2.6855 3.5645 C 2.5618 3.4408 2.5 3.2943 2.5 3.125 Z M 15 4.375 C 15 4.2057 15.0618 4.0592 15.1855 3.9355 L 16.4355 2.6855 C 16.5592 2.5619 16.7057 2.5 16.875 2.5 C 17.0443 2.5 17.1908 2.5619 17.3145 2.6855 C 17.4382 2.8092 17.5 2.9557 17.5 3.125 C 17.5 3.2943 17.4382 3.4408 17.3145 3.5645 L 16.0645 4.8145 C 15.9408 4.9382 15.7943 5 15.625 5 C 15.4557 5 15.3092 4.9382 15.1855 4.8145 C 15.0618 4.6908 15 4.5443 15 4.375 Z M 5 10 L 5 9.9023 C 5 9.2253 5.1351 8.5889 5.4053 7.9932 C 5.6755 7.3975 6.04 6.8783 6.499 6.4355 C 6.958 5.9928 7.4886 5.6429 8.0908 5.3857 C 8.693 5.1286 9.3294 5 10 5 C 10.6901 5 11.3395 5.1302 11.9482 5.3906 C 12.557 5.651 13.0876 6.0075 13.54 6.46 C 13.9925 6.9124 14.349 7.443 14.6094 8.0518 C 14.8698 8.6605 15 9.3099 15 10 C 15 10.6901 14.8698 11.3395 14.6094 11.9482 C 14.349 12.557 13.9925 13.0876 13.54 13.54 C 13.0876 13.9925 12.557 14.349 11.9482 14.6094 C 11.3395 14.8698 10.6901 15 10 15 C 9.3099 15 8.6605 14.8698 8.0518 14.6094 C 7.443 14.349 6.9124 13.9925 6.46 13.54 C 6.0075 13.0876 5.651 12.557 5.3906 11.9482 C 5.1302 11.3395 5 10.6901 5 10 Z Z M 0.625 10.625 C 0.4557 10.625 0.3092 10.5632 0.1855 10.4395 C 0.0618 10.3158 0 10.1693 0 10 C 0 9.8307 0.0618 9.6842 0.1855 9.5605 C 0.3092 9.4368 0.4557 9.375 0.625 9.375 L 1.875 9.375 C 2.0443 9.375 2.1908 9.4368 2.3145 9.5605 C 2.4382 9.6842 2.5 9.8307 2.5 10 C 2.5 10.1693 2.4382 10.3158 2.3145 10.4395 C 2.1908 10.5632 2.0443 10.625 1.875 10.625 Z M 18.125 10.625 C 17.9557 10.625 17.8092 10.5632 17.6855 10.4395 C 17.5618 10.3158 17.5 10.1693 17.5 10 C 17.5 9.8307 17.5618 9.6842 17.6855 9.5605 C 17.8092 9.4368 17.9557 9.375 18.125 9.375 L 19.375 9.375 C 19.5443 9.375 19.6908 9.4368 19.8145 9.5605 C 19.9382 9.6842 20 9.8307 20 10 C 20 10.1693 19.9382 10.3158 19.8145 10.4395 C 19.6908 10.5632 19.5443 10.625 19.375 10.625 Z M 2.5 16.875 C 2.5 16.7057 2.5618 16.5592 2.6855 16.4355 L 3.9355 15.1855 C 4.0592 15.0618 4.2057 15 4.375 15 C 4.5443 15 4.6908 15.0618 4.8145 15.1855 C 4.9382 15.3092 5 15.4557 5 15.625 C 5 15.7943 4.9382 15.9408 4.8145 16.0645 L 3.5645 17.3145 C 3.4408 17.4382 3.2943 17.5 3.125 17.5 C 2.9557 17.5 2.8092 17.4382 2.6855 17.3145 C 2.5618 17.1908 2.5 17.0443 2.5 16.875 Z M 15 15.625 C 15 15.4557 15.0618 15.3092 15.1855 15.1855 C 15.3092 15.0618 15.4557 15 15.625 15 C 15.7943 15 15.9408 15.0618 16.0645 15.1855 L 17.3145 16.4355 C 17.4382 16.5592 17.5 16.7057 17.5 16.875 C 17.5 17.0443 17.4382 17.1908 17.3145 17.3145 C 17.1908 17.4382 17.0443 17.5 16.875 17.5 C 16.7057 17.5 16.5592 17.4382 16.4355 17.3145 L 15.1855 16.0645 C 15.0618 15.9408 15 15.7943 15 15.625 Z M 9.375 19.375 L 9.375 18.125 C 9.375 17.9557 9.4368 17.8092 9.5605 17.6855 C 9.6842 17.5618 9.8307 17.5 10 17.5 C 10.1693 17.5 10.3158 17.5618 10.4395 17.6855 C 10.5632 17.8092 10.625 17.9557 10.625 18.125 L 10.625 19.375 C 10.625 19.5443 10.5632 19.6908 10.4395 19.8145 C 10.3158 19.9382 10.1693 20 10 20 C 9.8307 20 9.6842 19.9382 9.5605 19.8145 C 9.4368 19.6908 9.375 19.5443 9.375 19.375 Z"
                                    Foreground="{ThemeResource ToggleSwitchKnobFillOn}"
                                    Opacity="0"
                                    RenderTransformOrigin="0.5, 0.5">
                                    <PathIcon.RenderTransform>
                                        <ScaleTransform x:Name="ScaleKnobOn" ScaleX="0.6" ScaleY="0.6" />
                                    </PathIcon.RenderTransform>
                                </PathIcon>
                                <PathIcon
                                    x:Name="SwitchKnobOff"
                                    Data="F1 M 2.9492 14.7949 C 2.9492 14.4759 3.0469 14.2074 3.2422 13.9893 C 3.4375 13.7712 3.6816 13.6263 3.9746 13.5547 C 4.5866 13.3984 5.1546 13.1999 5.6787 12.959 C 6.2028 12.7181 6.7155 12.3991 7.2168 12.002 C 7.7051 11.6178 8.1413 11.1865 8.5254 10.708 C 8.9095 10.2295 9.2334 9.7168 9.4971 9.1699 C 9.7607 8.623 9.9626 8.0518 10.1025 7.4561 C 10.2425 6.8604 10.3125 6.25 10.3125 5.625 C 10.3125 5.1693 10.2734 4.7282 10.1953 4.3018 C 10.1172 3.8753 10.013 3.444 9.8828 3.0078 C 9.8633 2.9362 9.8454 2.8646 9.8291 2.793 C 9.8128 2.7214 9.8047 2.6497 9.8047 2.5781 C 9.8047 2.4089 9.8356 2.2477 9.8975 2.0947 C 9.9593 1.9417 10.0439 1.8083 10.1514 1.6943 C 10.2588 1.5804 10.3874 1.4893 10.5371 1.4209 C 10.6868 1.3525 10.8464 1.3184 11.0156 1.3184 C 11.0482 1.3184 11.0758 1.3184 11.0986 1.3184 C 11.1214 1.3184 11.1491 1.3216 11.1816 1.3281 C 11.9043 1.4323 12.5749 1.6048 13.1934 1.8457 C 13.8118 2.0866 14.4206 2.4186 15.0195 2.8418 C 15.6055 3.2585 16.1296 3.7305 16.5918 4.2578 C 17.054 4.7852 17.4447 5.3532 17.7637 5.9619 C 18.0827 6.5706 18.3268 7.2152 18.4961 7.8955 C 18.6654 8.5758 18.75 9.2773 18.75 10 C 18.75 10.8073 18.6458 11.5837 18.4375 12.3291 C 18.2292 13.0745 17.9346 13.7712 17.5537 14.4189 C 17.1729 15.0667 16.7171 15.6559 16.1865 16.1865 C 15.6559 16.7171 15.0667 17.1729 14.4189 17.5537 C 13.7712 17.9346 13.0745 18.2292 12.3291 18.4375 C 11.5837 18.6458 10.8073 18.75 10 18.75 C 9.3685 18.75 8.7321 18.6784 8.0908 18.5352 C 7.4495 18.3919 6.8343 18.1836 6.2451 17.9102 C 5.6559 17.6367 5.1025 17.3014 4.585 16.9043 C 4.0674 16.5072 3.6133 16.0514 3.2227 15.5371 C 3.1315 15.4199 3.0632 15.3044 3.0176 15.1904 C 2.972 15.0765 2.9492 14.9447 2.9492 14.7949 Z Z"
                                    Foreground="{ThemeResource ToggleSwitchKnobFillOff}"
                                    RenderTransformOrigin="0.5, 0.5">
                                    <PathIcon.RenderTransform>
                                        <ScaleTransform x:Name="ScaleKnobOff" ScaleX="0.7" ScaleY="0.7" />
                                    </PathIcon.RenderTransform>
                                </PathIcon>
                                <Grid.RenderTransform>
                                    <TranslateTransform x:Name="KnobTranslateTransform" />
                                </Grid.RenderTransform>
                            </Grid>
                            <Thumb
                                x:Name="SwitchThumb"
                                Grid.RowSpan="3"
                                Grid.ColumnSpan="3"
                                AutomationProperties.AccessibilityView="Raw">
                                <Thumb.Template>
                                    <ControlTemplate TargetType="Thumb">
                                        <Rectangle Fill="Transparent" />
                                    </ControlTemplate>
                                </Thumb.Template>
                            </Thumb>

                        </Grid>

                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal">
                                    <Storyboard>
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Glow"
                                            Storyboard.TargetProperty="ShadowOpacity"
                                            To="0.43"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOn"
                                            Storyboard.TargetProperty="ScaleX"
                                            To="0.6"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOn"
                                            Storyboard.TargetProperty="ScaleY"
                                            To="0.6"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOff"
                                            Storyboard.TargetProperty="ScaleX"
                                            To="0.7"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOff"
                                            Storyboard.TargetProperty="ScaleY"
                                            To="0.7"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs1"
                                            Storyboard.TargetProperty="Offset"
                                            To="0.5"
                                            Duration="0:0:0.42" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs2"
                                            Storyboard.TargetProperty="Offset"
                                            To="1.0"
                                            Duration="0:0:0.42" />
                                    </Storyboard>
                                </VisualState>

                                <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOffPointerOver}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOffPointerOver}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOff}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOn}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Gs0" Storyboard.TargetProperty="Offset">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="0.0" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Glow"
                                            Storyboard.TargetProperty="ShadowOpacity"
                                            To="0.73"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOn"
                                            Storyboard.TargetProperty="ScaleX"
                                            To="0.8"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOn"
                                            Storyboard.TargetProperty="ScaleY"
                                            To="0.8"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            AutoReverse="True"
                                            EnableDependentAnimation="True"
                                            RepeatBehavior="Forever"
                                            Storyboard.TargetName="Gs1"
                                            Storyboard.TargetProperty="Offset"
                                            To="0.0"
                                            Duration="0:0:0.92" />
                                        <DoubleAnimation
                                            AutoReverse="True"
                                            EnableDependentAnimation="True"
                                            RepeatBehavior="Forever"
                                            Storyboard.TargetName="Gs2"
                                            Storyboard.TargetProperty="Offset"
                                            To="0.5"
                                            Duration="0:0:0.92" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOnPointerOver}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchAreaGrid" Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchContainerBackgroundPointerOver}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOff"
                                            Storyboard.TargetProperty="ScaleX"
                                            To="0.9"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOff"
                                            Storyboard.TargetProperty="ScaleY"
                                            To="0.9"
                                            Duration="0:0:0.12" />
                                    </Storyboard>
                                </VisualState>

                                <VisualState x:Name="Pressed">

                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="StrokeThickness">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="0" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOffPressed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOffPressed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOnPressed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOn"
                                            Storyboard.TargetProperty="ScaleX"
                                            To="0.5"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOn"
                                            Storyboard.TargetProperty="ScaleY"
                                            To="0.5"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOff"
                                            Storyboard.TargetProperty="ScaleX"
                                            To="0.6"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOff"
                                            Storyboard.TargetProperty="ScaleY"
                                            To="0.6"
                                            Duration="0:0:0.12" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchAreaGrid" Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchContainerBackgroundPressed}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>

                                <VisualState x:Name="Disabled">

                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HeaderContentPresenter" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchHeaderForegroundDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOff"
                                            Storyboard.TargetProperty="ScaleX"
                                            To="0.7"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOff"
                                            Storyboard.TargetProperty="ScaleY"
                                            To="0.7"
                                            Duration="0:0:0.12" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OffContentPresenter" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchContentForegroundDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OnContentPresenter" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchContentForegroundDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOffDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOffDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOnDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOn"
                                            Storyboard.TargetProperty="ScaleX"
                                            To="0.6"
                                            Duration="0:0:0.12" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="ScaleKnobOn"
                                            Storyboard.TargetProperty="ScaleY"
                                            To="0.6"
                                            Duration="0:0:0.12" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOnDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOffDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOnDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchAreaGrid" Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchContainerBackgroundDisabled}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>

                            </VisualStateGroup>
                            <VisualStateGroup x:Name="ToggleStates">

                                <VisualStateGroup.Transitions>
                                    <VisualTransition
                                        x:Name="DraggingToOnTransition"
                                        GeneratedDuration="0"
                                        From="Dragging"
                                        To="On">

                                        <Storyboard>
                                            <RepositionThemeAnimation FromHorizontalOffset="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.KnobCurrentToOnOffset}" TargetName="SwitchKnob" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Opacity">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="0" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Opacity">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="1" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Opacity">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="0" />
                                            </ObjectAnimationUsingKeyFrames>

                                        </Storyboard>
                                    </VisualTransition>
                                    <VisualTransition
                                        x:Name="DraggingToOffTransition"
                                        GeneratedDuration="0"
                                        From="Dragging"
                                        To="Off">

                                        <Storyboard>
                                            <RepositionThemeAnimation FromHorizontalOffset="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.KnobCurrentToOffOffset}" TargetName="SwitchKnob" />
                                        </Storyboard>
                                    </VisualTransition>
                                    <VisualTransition
                                        x:Name="OnToOffTransition"
                                        GeneratedDuration="0"
                                        From="On"
                                        To="Off">

                                        <Storyboard>
                                            <ColorAnimation
                                                EnableDependentAnimation="True"
                                                Storyboard.TargetName="Gs0"
                                                Storyboard.TargetProperty="Color"
                                                To="{ThemeResource SystemAccentColorDark1}"
                                                Duration="0:0:1.22" />
                                            <ColorAnimation
                                                EnableDependentAnimation="True"
                                                Storyboard.TargetName="Gs1"
                                                Storyboard.TargetProperty="Color"
                                                To="{ThemeResource SystemAccentColorDark2}"
                                                Duration="0:0:0.82" />
                                            <ColorAnimation
                                                EnableDependentAnimation="True"
                                                Storyboard.TargetName="Gs2"
                                                Storyboard.TargetProperty="Color"
                                                To="Black"
                                                Duration="0:0:0.42" />
                                            <RepositionThemeAnimation FromHorizontalOffset="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.KnobOnToOffOffset}" TargetName="SwitchKnob" />
                                        </Storyboard>
                                    </VisualTransition>
                                    <VisualTransition
                                        x:Name="OffToOnTransition"
                                        GeneratedDuration="0"
                                        From="Off"
                                        To="On">

                                        <Storyboard>
                                            <ColorAnimation
                                                EnableDependentAnimation="True"
                                                Storyboard.TargetName="Gs0"
                                                Storyboard.TargetProperty="Color"
                                                To="{ThemeResource SystemAccentColorLight2}"
                                                Duration="0:0:0.42" />
                                            <ColorAnimation
                                                EnableDependentAnimation="True"
                                                Storyboard.TargetName="Gs1"
                                                Storyboard.TargetProperty="Color"
                                                To="{ThemeResource SystemAccentColorLight3}"
                                                Duration="0:0:0.82" />
                                            <ColorAnimation
                                                EnableDependentAnimation="True"
                                                Storyboard.TargetName="Gs2"
                                                Storyboard.TargetProperty="Color"
                                                To="White"
                                                Duration="0:0:1.22" />
                                            <RepositionThemeAnimation FromHorizontalOffset="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.KnobOffToOnOffset}" TargetName="SwitchKnob" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Opacity">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="1" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Opacity">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="0" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Opacity">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="1" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Opacity">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="0" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualTransition>
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Dragging">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOff}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOn}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs0"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColorDark1}"
                                            Duration="0:0:0.42" />
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs1"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColor}"
                                            Duration="0:0:0.82" />
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs2"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColorLight1}"
                                            Duration="0:0:1.22" />
                                        <DoubleAnimation
                                            AutoReverse="True"
                                            EnableDependentAnimation="True"
                                            RepeatBehavior="Forever"
                                            Storyboard.TargetName="Gs0"
                                            Storyboard.TargetProperty="Offset"
                                            To="0.5"
                                            Duration="0:0:0.92" />
                                        <DoubleAnimation
                                            AutoReverse="True"
                                            EnableDependentAnimation="True"
                                            RepeatBehavior="Forever"
                                            Storyboard.TargetName="Gs1"
                                            Storyboard.TargetProperty="Offset"
                                            To="1.0"
                                            Duration="0:0:0.92" />
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Off">
                                    <Storyboard>
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs0"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColorDark2}"
                                            Duration="0:0:1.22" />
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs1"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColorDark3}"
                                            Duration="0:0:0.82" />
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs2"
                                            Storyboard.TargetProperty="Color"
                                            To="Black"
                                            Duration="0:0:0.42" />
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Glow"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColorDark3}"
                                            Duration="0:0:1.22" />
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="On">

                                    <Storyboard>
                                        <DoubleAnimation
                                            Storyboard.TargetName="KnobTranslateTransform"
                                            Storyboard.TargetProperty="X"
                                            To="24"
                                            Duration="0" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Opacity">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="1" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs1"
                                            Storyboard.TargetProperty="Offset"
                                            To="0.5"
                                            Duration="0:0:0.42" />
                                        <DoubleAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs2"
                                            Storyboard.TargetProperty="Offset"
                                            To="1.0"
                                            Duration="0:0:0.42" />
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs0"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColorLight2}"
                                            Duration="0:0:0.42" />
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs1"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColorLight3}"
                                            Duration="0:0:0.82" />
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Gs2"
                                            Storyboard.TargetProperty="Color"
                                            To="White"
                                            Duration="0:0:1.22" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Opacity">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="0" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Opacity">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="1" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Opacity">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="0" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ColorAnimation
                                            EnableDependentAnimation="True"
                                            Storyboard.TargetName="Glow"
                                            Storyboard.TargetProperty="Color"
                                            To="{ThemeResource SystemAccentColorLight3}"
                                            Duration="0:0:1.22" />
                                    </Storyboard>
                                </VisualState>

                            </VisualStateGroup>
                            <VisualStateGroup x:Name="ContentStates">
                                <VisualState x:Name="OffContent">

                                    <Storyboard>
                                        <DoubleAnimation
                                            Storyboard.TargetName="OffContentPresenter"
                                            Storyboard.TargetProperty="Opacity"
                                            To="1"
                                            Duration="0" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OffContentPresenter" Storyboard.TargetProperty="IsHitTestVisible">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <x:Boolean>True</x:Boolean>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="OnContent">

                                    <Storyboard>
                                        <DoubleAnimation
                                            Storyboard.TargetName="OnContentPresenter"
                                            Storyboard.TargetProperty="Opacity"
                                            To="1"
                                            Duration="0" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OnContentPresenter" Storyboard.TargetProperty="IsHitTestVisible">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <x:Boolean>True</x:Boolean>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>

                            </VisualStateGroup>

                        </VisualStateManager.VisualStateGroups>
                    </Grid>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>